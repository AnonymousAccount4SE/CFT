# Semicolon-separated list of directories to locate code, in sequence
# from work-directories towards library directories. 

# The first directory is the default save directory. This means that working
# on a script file from one of the other directories, when you save it, you
# don't overwrite the original, but instead store it in the first directory,
# and may later manually move it to the target directory, when it's ok.
# ----

codeDirs = . ; code.examples ; code.lib


# Favourite shell, for the shell() global function
# ----

shell = bash
winShell = powershell


# Macros invoked for statements "cat", "edit" and "more". The single parameter
# may be null or point to a file.
# ----

mCat = {* P(1)=file when(file==null,error('cat: no file')) file.read->line out(line) }

mEdit = {* P(1)=file if(file==null, {call 'Lib:e2'}, {call 'Lib:e' (file)}) }

mMore = {* P(1)=file when(file==null,error('more: no file')) call 'Lib:m' (file) }


# Shortcuts
#
# The shortcuts are lines of code. If that code results in a macro, it is invoked with
# no parameters. Since we don't need parameters, there is really no need for macros
# here. The return value from a shortcut becomes the "last value", available
# via Sys.lastResult, as well as used by :syn etc
#
# Note that shortcuts only work when the prefix is at the start of the interactive
# input line. 
# ---
shortcutPrefix = @


shortcut:e    = "---- open script in editor ----"         call "Lib:e" (savefile)
shortcut:term = "---- Update terminal size ----"          call "Lib:GetTerminalSize"
shortcut:top  = "---- Run top command ----"               Dir.run("top")
shortcut:rsh  = "---- Remote shell via ssh ----"          call "SSH:rsh"

# Release script
shortcut:rel  = "---- Release ----"                       Sys.stdin(":load Release","?")

# Projects script 
shortcut:P    = "---- Projects ----"                      Sys.stdin(":load Projects","Curr")
shortcut:PS   = "---- Projects perform search ----"       call "Projects:Curr" call "Projects:S"
shortcut:PSS  = "---- Projects repeat last search ----"   Sys.stdin("") call "Projects:S"
shortcut:PP   = "---- Projects change project ----"       call "Projects:ChangeProject"

# Investigate script
shortcut:I    = "---- Investigate ----"                   Sys.stdin(":load Investigate","?")
shortcut:ID   = "---- Investigate log with data ----"     call "Investigate:LogWithData"
shortcut:IND  = "---- Investigate log no data ----"       call "Investigate:LogNoData"
shortcut:IP   = "---- Investigate log pasted text ----"   call "Investigate:LogPastedText"
shortcut:IS   = "---- Investigate show log ----"          call "Investigate:Show"

# Servers maintenance
shortcut:SM   = "---- Servers maintenance script ----"    Sys.stdin(":load ServersMaintenance","?")


# List available shortcuts when typing '@' only
# ---
shortcut:     = "---- Show all shortcuts ----"            File("CFT.props").read->line assert(line.contains("shortcut:")) out(line)


